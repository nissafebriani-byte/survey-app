<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      font-family: Inter, system-ui, Arial, sans-serif;
      color: #111827;
      --bg: #f9fafb;
      --card: #ffffff;
      --muted: #6b7280;
      --line: #e5e7eb;
      --btn: #f3f4f6;
      --btnHover: #e5e7eb;
      --primary: #2563eb;
    }
    body { margin: 0; background: var(--bg); }
    .wrap { max-width: 1000px; margin: 0 auto; padding: 24px; }
    h1 { margin: 12px 0 20px 0; font-weight: 600; }
    .card {
      background: var(--card); border: 1px solid var(--line);
      border-radius: 14px; padding: 20px;
      box-shadow: 0 2px 10px rgba(17,24,39,0.03);
    }
    .page { display: none; }
    .page.active { display: block; }

    .form-row { margin-bottom: 12px; }
    .input {
      width: 100%; padding: 12px 14px;
      border: 1px solid var(--line); border-radius: 10px;
      background: #fff; font-size: 15px;
    }
    .btn {
      padding: 10px 16px; border: 1px solid var(--line);
      border-radius: 10px; background: var(--btn); cursor: pointer;
      font-size: 15px;
    }
    .btn:hover { background: var(--btnHover); }
    .btn.primary {
      border-color: var(--primary);
      background: var(--primary); color: white;
    }
    .btn.primary:disabled { background: #9ca3af; border-color: #9ca3af; cursor: not-allowed; }

    .center-header {
      display: flex; align-items: baseline; justify-content: space-between; gap: 12px;
      margin-bottom: 12px;
    }
    .subtle { color: var(--muted); font-size: 14px; }
    .domain {
      background: #eef2f7; padding: 8px 12px; border-radius: 10px; font-weight: 600;
      border: 1px solid #e6ebf2; margin: 16px 0 10px;
    }
    .grid { display: grid; gap: 10px; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 900px) { .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } }
    .el {
      background: #f3f4f6; border: 1px solid var(--line);
      border-radius: 12px; padding: 10px 12px; text-align: center;
      cursor: pointer; transition: transform .06s ease, background .15s ease;
      user-select: none;
    }
    .el:hover { background: #e5e7eb; }
    .el.selected { background: var(--primary); color: #fff; border-color: var(--primary); }

    .nav { display: flex; justify-content: space-between; gap: 12px; margin-top: 18px; }
    .counter { font-weight: 600; }

    #descBox {
      position: fixed; left: 16px; bottom: 16px;
      max-width: 360px; min-height: 44px;
      background: #111827; color: #fff; padding: 12px 14px;
      border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,.12);
      font-size: 14px; line-height: 1.3; opacity: .92;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Top Topics in Life Management</h1>
    <p style="margin-bottom: 20px;">
      Welcome to the Top Topics in Life Management Survey! Your task is to choose which elements you would prioritize buying if you had the money to pay.
    </p>

    <!-- Info Page -->
    <div id="pageInfo" class="card page active">
      <div class="form-row">
        <input class="input" id="name" placeholder="Full name">
      </div>
      <div class="form-row">
        <input class="input" id="institution" placeholder="Institution or organization">
      </div>
      <div class="form-row">
        <input class="input" id="position" placeholder="Position or role">
      </div>
      <div class="form-row">
        <input class="input" id="email" type="email" placeholder="Email">
      </div>
      <button class="btn primary" onclick="start()">Start</button>
    </div>

    <!-- Center Page -->
    <div id="pageCenter" class="card page">
      <div class="center-header">
        <div>
          <div id="centerTitle" style="font-size:20px;font-weight:600"></div>
          <div class="subtle">Select up to 20 elements</div>
        </div>
        <div class="subtle" id="progressText"></div>
      </div>
      <div id="content"></div>

      <div class="nav">
        <button class="btn" id="btnPrev" onclick="prevCenter()">Previous</button>
        <div class="counter" id="selCount">0 of 20 selected</div>
        <button class="btn primary" id="btnNext" onclick="nextCenter()">Next</button>
      </div>
    </div>

    <!-- Done Page -->
    <div id="pageDone" class="card page">
      <h2>Thank you</h2>
      <p>Your responses have been recorded.</p>
    </div>
  </div>

  <div id="descBox">Hover over an element to see its description</div>

  <script>
    const MAX_PER_CENTER = 20;
    cons
